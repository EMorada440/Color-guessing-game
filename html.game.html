<!DOCTYPE html>
<html>
<head>
    <title>Color Guessing game!</title>
</head>
<body onload="do_game()">
<script type="text/javascript">
    //1.
    var colors = ["blue", "cyan", "gold", "gray", "green", "magenta", "orange"
        , "red", "white", "yellow"];
    colors = colors.sort();
    //2.

    function do_game() {
        try {

            //calculation
            var target_index = Math.floor(Math.random() * (colors.length - 0)) + 0;

            var target = colors[target_index];
            var message = "I am thinking of one of these colors:\n\n";
            for (var i = 0; i < colors.length; i++) {
                message += colors[i];
                if (i == (colors.length - 2)) {
                    message += " and ";
                } else if (i != (colors.length - 1)) {
                    message += ", ";
                }

            }
        }
        catch (e) {
            
        }
        var guess_input;
        var finished = false;
        var gameCount = 0;
        alert(target);

        //While loop
        while (!finished){
            guess_input = prompt(message).toLowerCase();
            gameCount++;
            finished = check_guess(guess_input,target);
            if (finished) {
                var myBody = document.getElementsByTagName("body")[0];
                myBody.style.background = target;
                alert("Congratulations! You have guessed the color!" +
                        "\n\nIt took you " + gameCount + " guesses to finish the game!\n\nYou can see the color in " +
                        "the background.");
            }

        }
        var myBody = document.getElementsByTagName("body")[0];
            myBody.style.background = target;
    }

    function check_guess(guess, target) {
        if (colors.indexOf(guess)<0) {

            alert("Sorry, I don't recognize your color.\n\nPlease try again.");
            return false;
        } else if(guess > target) {

            alert("Sorry, your guess is not correct!\n\nHint: Your color is alphabetically higher than mine.\n\n" +
                    "Please try again.");
        } else if (guess < target) {

            alert("Sorry, your guess is not correct!\n\nHint: Your color is alphabetically lower than mine.\n\n" +
                    "Please try again.");
        } else {
            return true;
        }
    }

</script>

<audio autoplay>
    <source src="Emotional%20Titanic%20Flute.mp3" type="audio/mpeg">


</audio>
</body>


</html>

